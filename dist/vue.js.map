{"version":3,"file":"vue.js","sources":["../src/compiler/parse.js","../src/compiler/index.js","../src/Observer/dep.js","../src/Observer/watcher.js","../src/vdom/index.js","../src/lifecycle.js","../src/Observer/array.js","../src/Observer/index.js","../src/state.js","../src/init.js","../src/index.js"],"sourcesContent":["const ncname = `[a-zA-z_][\\\\-\\\\.0-9_a-zA-z]*`;\r\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`; \r\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); //匹配标签名 <div\r\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); //匹配结束标签名 </div>\r\n\r\n// 第一个分组就是属性的key value就是分组3/4/5\r\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; //匹配属性\r\nconst startTagClose = /^\\s*(\\/?)>/; //开始标签的结束 ' > '\r\n\r\n\r\n// 对模板进行编译处理（vue3采用的不是正则）或者使用插件 htmlparser2 解析\r\nexport function parseHTML(html){\r\n  const TEXT_TYPE = 3,  //文本类型\r\n        ELEMENT_TYPE = 1, //元素类型\r\n        stack = []; //存为元素\r\n  let currentParent; //指向栈中的最后一个\r\n  let root; //根节点\r\n\r\n\r\n  // 创建ast树\r\n  function createASTElement(tag,attrs){\r\n    return {\r\n      tag,\r\n      attrs,\r\n      children:[],\r\n      type:ELEMENT_TYPE,\r\n      parent:null\r\n    }\r\n  }\r\n\r\n  // 利用栈型结构，来构造一颗树 通过每次匹配判断标签开始与结束 判断进栈出栈 由此可以清晰知道当前节点所属位置\r\n  function start(tag,attrs){\r\n    let node = createASTElement(tag,attrs)\r\n\r\n    // 看下是否是空树 如果是当前树就是根节点\r\n    if(!root){\r\n      root = node;\r\n    }\r\n\r\n    // 如果当前节点的父节点存在，设置当前节点的父节点，以及给父节点添加儿子节点\r\n    if(currentParent){\r\n      node.parent = currentParent;\r\n      currentParent.children.push(node)\r\n    }\r\n\r\n    // 使用栈的进出判断当前节点以及其父节点\r\n    stack.push(node);\r\n    currentParent = node;\r\n  }\r\n\r\n  function chars(text){\r\n    // 去除所有空格  这里会把文本中的空格也给去除调\r\n    // text = text.replace(/\\s/g,'')\r\n    text = text.trim();\r\n    text && currentParent.children.push({\r\n      type:TEXT_TYPE,\r\n      text,\r\n      parent:currentParent\r\n    })\r\n  }\r\n\r\n  function end(tag){\r\n    stack.pop();\r\n    // 当前父节点，就是栈最后一个\r\n    currentParent = stack[stack.length - 1]\r\n  }\r\n\r\n  \r\n  // 去除匹配到了\r\n  function advance(n){\r\n    html = html.substring(n)\r\n  }\r\n\r\n  // 开始标签匹配处理\r\n  function parseStartTag(){\r\n    const start = html.match(startTagOpen);\r\n    //start: [0: \"<div\"  1: \"div\"]\r\n    if(start){\r\n      const match = {\r\n        tagName:start[1],\r\n        attrs:[]\r\n      }\r\n\r\n      // 匹配到之后 去除匹配开始标签\r\n      advance(start[0].length)\r\n\r\n      let attr,end;\r\n      // 当不是开始标签的结束时，而是属性则一直匹配 \r\n      while( !(end = html.match(startTagClose)) && (attr = html.match(attribute)) ){\r\n        // 将匹配得属性部分删除\r\n        advance(attr[0].length)\r\n\r\n        //通过正则匹配 1是属性名 2是‘：’ 3/4/5位是属性的值  true处理disabled这种属性\r\n        match.attrs.push({name:attr[1],value:attr[3] || attr[4] || attr[5] || true })\r\n      }\r\n\r\n      // 当匹配到开始标签得结束 > 时 删除 > \r\n      if(end){\r\n        advance(end[0].length)\r\n      }\r\n\r\n      return match;\r\n    }\r\n\r\n    return false;\r\n  }\r\n  \r\n  // 通过正则匹配开始标签 结束标签 字符 进行分类处理\r\n  while(html){\r\n    // 为0代表是一个开始标签或者结束标签\r\n    let textEnd = html.indexOf('<');\r\n\r\n    // 开始标签或者结束标签\r\n    if(textEnd == 0){\r\n\r\n      // 当匹配到开始标签\r\n      const startTagMatch = parseStartTag();\r\n      if(startTagMatch){\r\n        // 处理开始标签为ast树\r\n        start(startTagMatch.tagName,startTagMatch.attrs)\r\n        continue;\r\n      }\r\n\r\n      // 如果是结束标签\r\n      const endTagMatch = html.match(endTag)\r\n      if(endTagMatch){\r\n        advance(endTagMatch[0].length)\r\n        end(endTagMatch[1])\r\n        continue;\r\n      }\r\n      break;\r\n    }\r\n\r\n    // 如果是文本\r\n    if(textEnd > 0){\r\n      // 获取文本部分\r\n      const text = html.substring(0,textEnd)\r\n      // 删除文本部分\r\n      advance(text.length)\r\n      // 将文本处理成ast树\r\n      chars(text)\r\n    }\r\n  }\r\n\r\n  return root;\r\n}","import { parseHTML} from \"./parse\";\r\n\r\n\r\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;  //{{xx}} 匹配表达式的变量\r\n\r\n// 属性切割\r\nfunction genProps(attrs){\r\n  let str = '';\r\n  for (let i = 0; i < attrs.length; i++) {\r\n    let attr = attrs[i];\r\n\r\n    // 如果是style属性单独切割处理\r\n    if(attr.name == 'style'){\r\n      let obj = {};\r\n      attr.value.split(';').map(item=>{\r\n        let [key,value] = item.split(':');\r\n        obj[key] = value;\r\n      })\r\n      attr.value = obj;\r\n    }\r\n\r\n    str += `${attr.name}:${JSON.stringify(attr.value)},`\r\n  }\r\n  return `{${str.slice(0,-1)}}`;\r\n}\r\n\r\nfunction genChildren(children){\r\n  return children.map(child=>gen(child)).join(',')\r\n}\r\n\r\nfunction gen(node){\r\n  // 如果子节点是元素节点再次生成\r\n  if(node.type === 1){\r\n    return codegen(node)\r\n  }else{\r\n    // 如果是文本类型\r\n    let text = node.text;\r\n\r\n    // 如果没有匹配到 {{ }}  注意：/xxx/g.test() /xxx/g.exec(text))  匹配成功后的lastIndex 会变化\r\n    if(!defaultTagRE.test(text)){\r\n      return `_v(${JSON.stringify(text)})`\r\n    }else{\r\n      let tokens = [];\r\n      let match;\r\n      let lastIndex = 0;\r\n      // 这里一定得设置为0 否则只会匹配到最后一个值（是因为使用了g全局匹配会导致这种问题）\r\n      defaultTagRE.lastIndex = 0;\r\n\r\n      // match : [0: \"{{name}}\" 1: \"name\"]\r\n      while(match = defaultTagRE.exec(text)){\r\n        let index = match.index;\r\n\r\n        // 如果匹配的 '文字 {{}} ' 前面还有 其他文本 直接放入\r\n        if(index > lastIndex){\r\n          tokens.push(JSON.stringify(text.slice(lastIndex,index)))\r\n        }\r\n\r\n        // 重新设置当前匹配后的位置\r\n        lastIndex = index + match[0].length;\r\n\r\n        // console.log('match[1]',match[1],`${match[1]}`);\r\n        tokens.push(`_s(${match[1]})`);\r\n      }\r\n      //  匹配完成了 '{{}} 文字' 最后如果还有 文字也得放入进来\r\n      if(lastIndex < text.length){\r\n        tokens.push(JSON.stringify(text.slice(lastIndex)))\r\n      }\r\n\r\n      return `_v(${tokens.join('+')})`\r\n    }\r\n  }\r\n  \r\n}\r\n\r\n// 将ast语法树转换成render函数  _c  _s替换{{}}  _v 文本\r\nfunction codegen(ast){\r\n  let children = genChildren(ast.children)\r\n  let code = (`_c('${ast.tag}',${ast.attrs.length > 0 ? genProps(ast.attrs):'null'}${ast.children.length>0 ? `,${children}`:''})`)\r\n  return code\r\n}\r\n\r\n//对模板进行编译处理\r\nexport function compileToFunction(template){\r\n  // 1. 将template转化成ast树\r\n  const ast = parseHTML(template)\r\n\r\n  console.log('ast',ast);\r\n\r\n  // 2. 生成render方法 将ast语法树转换成render函数\r\n  // 模板引擎的实现原理 就是 with + new Function\r\n  let code = codegen(ast);\r\n  console.log('code',this,code);\r\n\r\n  \r\n  // c('div',{id:\"app\",class:\"999\",style:{\"color\":\" #f33\",\"font-size\":\"18px\"}},_c('div',{style:{\"color\":\" #ff3\"}},_v(_s(name)+\" 你 \"+_s(age)+\"  好111\")),_c('span',null,_v(\"hello\")))\r\n  // 因为with 当this传入vm的时候，_s(xxx)中的变量会自动去vm上拿取\r\n  code = `with(this){return ${code}} `;\r\n  let render = new Function(code);\r\n  \r\n  return render;\r\n}","let id = 0;\r\nclass Dep{\r\n  constructor(){\r\n    this.id = id++;\r\n    this.subs = [];\r\n  }\r\n\r\n  depend(){\r\n    // （dep 和 watcher 是多对多的关系  一个属性在多个组件中使用  dep -> 多个watcher）\r\n    // 一个组件中有多个属性 watcher -> 多个dep\r\n\r\n    // this.subs.push(Dep.target)\r\n    Dep.target.addDep(this)\r\n  }\r\n\r\n  addSub(watcher){\r\n    this.subs.push(watcher)\r\n  }\r\n\r\n  // watcher 更新\r\n  notify(){\r\n    this.subs.forEach(watcher=>watcher.update())\r\n  }\r\n}\r\n\r\nDep.target = null;\r\n\r\nexport default Dep;","// 即使用观察者模式\r\n// 1.我们可以给模板中的属性 增加一个收集器 dep\r\n// 2.页面渲染的时候，我们将渲染逻辑封装在watcher中  vm._update(vm._render())\r\n// 3.让dep记住这个watcher即可，稍后属性变化了可以找到对应的dep中存放的watcher进行重新渲染\r\n\r\nimport Dep from \"./dep\";\r\n\r\n//1) 当我们创建渲染watcher的时候我们会把当前的渲染watcher放到Dep.target上\r\n//2) 当调用_render() 会进行取值操作 走到get上\r\n\r\nlet id = 0;\r\nclass Watcher{\r\n  constructor(vm,fn,boolean){\r\n    this.id = id++;\r\n    this.renderWatcher = boolean;  //true 表示是一个渲染watcher\r\n    this.getter = fn; //\r\n    this.deps = [];\r\n    this.depId = new Set();\r\n    this.get();\r\n  }\r\n\r\n  // 一个组件对应多个属性 重复属性不用记录\r\n  addDep(dep){\r\n    if(!this.depId.has(dep.id)){\r\n      this.deps.push(dep)\r\n      this.depId.add(dep.id)\r\n      dep.addSub(this)\r\n    }\r\n  }\r\n\r\n  get(){\r\n    Dep.target = this;\r\n    this.getter();\r\n    Dep.target = null;\r\n  }\r\n\r\n  update(){\r\n    console.log('update');\r\n    this.get();\r\n  }\r\n}\r\n\r\n// （每个属性都有一个dep  watcher相当一个视图）\r\n// 一个组件中 有多个属性（n个属性形成一个视图） n个dep对应一个watcher\r\n// 一个属性对应着多个组件 1个dep对应着多个watcher \r\n// dep 和 watcher 多对多的关系\r\n\r\nexport default Watcher;","//  _h() _c()\r\nexport function createElementVNode(vm,tag,data,...children){\r\n  // console.log('66666666',tag,data,children);\r\n  if(data == null){\r\n    data = {};\r\n  }\r\n\r\n  // 不明白这里为什么要把key删除\r\n  // let key = data.key;\r\n  // if(key){\r\n  //   delete data.key\r\n  // }\r\n\r\n  return vnode(vm,tag,data.key,data,children)\r\n}\r\n\r\n\r\n// _v()\r\nexport function createTextVNode(vm,text){\r\n  return vnode(vm,undefined,undefined,undefined,undefined,text)\r\n}\r\n\r\n\r\nfunction vnode(vm,tag,key,data,children,text){\r\n  return {\r\n    vm,\r\n    tag,\r\n    key,\r\n    data,\r\n    children,\r\n    text\r\n  }\r\n}","/**\r\n * vue核心流程\r\n * 1. 创造了响应式数据\r\n * 2. 模板转换成ast语法树\r\n * 3. 将ast语法树转换成render函数\r\n * 4. 后续每次数据更新可以只执行render函数（无需再次执行ast转化过程）\r\n */\r\n\r\nimport Watcher from \"./Observer/watcher\";\r\nimport { createElementVNode,createTextVNode} from \"./vdom/index\";\r\n\r\n\r\n// 创建真实DOM元素\r\nfunction createElm(vnode){\r\n  let {tag,data,text,children} = vnode;\r\n\r\n  if(typeof tag === 'string'){\r\n    vnode.el = document.createElement(tag)\r\n    patchProps(vnode.el,data)\r\n    children.forEach(child => {\r\n      vnode.el.appendChild(createElm(child)) \r\n    });\r\n  }else{\r\n    vnode.el = document.createTextNode(text)\r\n  }\r\n\r\n  return vnode.el;\r\n}\r\n\r\n\r\n// 更新属性\r\nfunction patchProps(el,props){\r\n  for (const key in props) {\r\n    if (key === 'style') {\r\n      for (const styleName in props.style) {\r\n        el.style[styleName] = props.style[styleName];\r\n      }\r\n    }else{\r\n      el.setAttribute(key,props[key])\r\n    }\r\n  }\r\n}\r\n\r\n// 创建真实DOM节点\r\nfunction patch(oldVNode,vnode){\r\n  // 看是否是真实的元素节点\r\n  let isRealElement = oldVNode.nodeType;\r\n  console.log('isRealElement',isRealElement);\r\n  if(isRealElement){\r\n    const elm = oldVNode;\r\n\r\n    const parentElm = elm.parentNode;  //拿到父元素\r\n\r\n    // 将虚拟DOM转为真实DOM\r\n    const newElm = createElm(vnode);\r\n\r\n    parentElm.insertBefore(newElm,elm.nextSibling) //插入新节点\r\n\r\n    parentElm.removeChild(elm); //删除老节点\r\n    \r\n    // 将新的节点返回，重新赋值 $el 用于下次更新\r\n    return newElm;\r\n  }else{\r\n\r\n  }\r\n}\r\n\r\nexport function initLifeCycle(Vue){\r\n  Vue.prototype._update = function(vnode){\r\n    const vm = this;\r\n    let el = vm.$el;\r\n\r\n    // 这里patch既有初始化方法  又有更新（vm.$el重新赋值新的节点） \r\n    vm.$el = patch(el,vnode);\r\n  }\r\n\r\n  Vue.prototype._render = function(){\r\n    // console.log('this.$options.render',this.$options.render);\r\n    // 指向Vue 因为render函数使用with 当this传入vm的时候，_s(xxx)中的变量会自动去vm上拿取\r\n    return this.$options.render.call(this);\r\n  }\r\n\r\n  Vue.prototype._c = function(){\r\n    // console.log('1',arguments);\r\n    return createElementVNode(this,...arguments)\r\n  }\r\n  Vue.prototype._v = function(){\r\n    // console.log('2',arguments);\r\n    return createTextVNode(this,...arguments);\r\n  }\r\n\r\n  // 因为render函数使用with的原因 所以_s(xxx)中的变量 可以直接获取对应的值\r\n  Vue.prototype._s = function(value){\r\n    // console.log('3',value);\r\n    if( typeof value !== 'object') return value;\r\n    return JSON.stringify(value);\r\n  }\r\n}\r\n\r\nexport function mountComponent(vm,el){\r\n  vm.$el = el;\r\n\r\n  // 1.调用render方法产生虚拟节点，虚拟DOM\r\n  // console.log('vm----------',vm,vm._render());\r\n\r\n  \r\n  const updateComponents = ()=>{\r\n    vm._update(vm._render()); // 更新组件渲染\r\n  }\r\n\r\n  // debugger\r\n  // watcher 相当于一个观察者  dep则是收集者 \r\n  let watcher = new Watcher(vm,updateComponents,true) //true 用于标识 是一个渲染watcher\r\n\r\n  console.log('watcher',watcher);\r\n  // 2.根据虚拟DOM产生真实DOM\r\n\r\n  // 3.插入到el元素中\r\n}","\r\nlet oldArrayProto = Array.prototype;  //获取数组原型\r\n\r\n// 获取新的实例原型  不影响原数组方法\r\nexport let newArrayProto = Object.create(oldArrayProto)\r\n// 找到所有变异方法\r\nlet methods = [\r\n  'push',\r\n  'pop',\r\n  'shift',\r\n  'unshift',\r\n  'reverse',\r\n  'sort',\r\n  'splice',\r\n]\r\n\r\nmethods.forEach(method=>{\r\n  // 数组方法的重新\r\n  newArrayProto[method] = function(...args){\r\n\r\n    // console.log('------this-----',this,args);\r\n    \r\n    // 内部还是调用了原来的方法\r\n    const result = oldArrayProto[method].call(this,...args);\r\n\r\n    // 我们对新增的数据进行劫持\r\n    let inserted;\r\n    let ob = this.__ob__;\r\n\r\n    switch(method){\r\n      case 'push':\r\n      case 'unshift':\r\n        inserted = args;\r\n        break;\r\n      case 'splice':  //arr.splice(0,1,{age:18},{a:1})\r\n        inserted = args.slice(2)\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    if(inserted){\r\n      // 对新增的内容再次进行观测\r\n      ob.observeArray(inserted);\r\n    }\r\n\r\n    console.log('inserted',inserted);\r\n    return result;\r\n  }\r\n})\r\n\r\n","import { newArrayProto } from \"./array\";\r\nimport Dep from \"./dep\";\r\n\r\nclass Observer{\r\n  constructor(data){\r\n\r\n    // 为了数组能够使用 observeArray 去观测新增的数据\r\n    Object.defineProperty(data,'__ob__',{\r\n      value:this,\r\n      enumerable:false\r\n    })\r\n\r\n    // 如果是数组就不再一个个劫持  太浪费性能了 (数组劫持的核心，就是重写数组的方法，对新增的属性进行判断和观测)\r\n    if(Array.isArray(data)){\r\n      // 对数组7个变异方法进行重写\r\n      data.__proto__ = newArrayProto;\r\n\r\n      // 如果数组中放的是对象，可以检测其变化\r\n      this.observeArray(data)\r\n    }else{\r\n      // Object.defineProperty 只能劫持已经存在的属性（vue里面会为此单独写一些api $set $delete）\r\n      this.walk(data);\r\n    }\r\n  }\r\n\r\n  // 循环对象依次进行劫持\r\n  walk(data){\r\n    // “重新定义” 属性 因此vue2性能会有点差\r\n    Object.keys(data).forEach(key=>{defineReactive(data,key,data[key])})\r\n  }\r\n\r\n  // 观测数组 对数组中的对象进行劫持\r\n  observeArray(data){\r\n    data.forEach(item=>{observe(item)})\r\n  }\r\n}\r\n\r\n// 数据劫持  闭包 属性劫持\r\nexport function defineReactive(target,key,value){\r\n  // 如果值是对象再次进行劫持\r\n  observe(value)\r\n\r\n  let dep = new Dep();\r\n  Object.defineProperty(target,key,{\r\n    get(){\r\n      // 让这个属性的收集器记住当前的watcher\r\n      // console.log('Dep.target',Dep.target);\r\n      if(Dep.target){\r\n        dep.depend();\r\n      }\r\n      console.log('获取',key);\r\n      return value;\r\n    },\r\n    set(newVal){\r\n      console.log('设置');\r\n      if(newVal === value)return;\r\n\r\n      observe(newVal)// 用户给新值重新赋值对象，需要再次代理\r\n      \r\n      value = newVal\r\n\r\n      // 重新渲染页面\r\n      dep.notify()\r\n    }\r\n  })\r\n}\r\n\r\nexport function observe(data){\r\n  // 只对对象进行劫持\r\n  if(typeof data != 'object' || data == null)return;\r\n\r\n  // 说明对象已经被代理过了\r\n  if(data.__ob__ instanceof Observer){\r\n    return data.__ob__;\r\n  }\r\n\r\n  // 若果一个对象被劫持过了，那就不需要再被劫持了（要判断一个对象是否被劫持过，可以添加一个实例，用实例来判断是否被劫持过）\r\n  new Observer(data)\r\n}","import { observe } from \"./Observer/index.js\";\r\n\r\nexport function initState(vm){\r\n  const opts = vm.$options;\r\n  if(opts.data){\r\n    initData(vm)\r\n  }\r\n}\r\n\r\n// 数据初始化\r\nfunction initData(vm){\r\n  let data = vm.$options.data; //data可能是函数和对象 vue3认定是函数\r\n\r\n  // 疑问这里data函数的指向就是vm 为什么要call\r\n  data = typeof data =='function'?data.call(vm):data;\r\n \r\n  vm._data = data;  //将返回的对象放到_data上\r\n\r\n  // 对于数据进行劫持 vue2里采用了一个api defineProperty\r\n  observe(data)\r\n\r\n  // 将vm._data 用vm来代理  方便用户获取\r\n  for(let key in data){\r\n    proxy(vm,'_data',key)\r\n  }\r\n}\r\n\r\n// vm.xxx  代理到 vm._data.xxx\r\nfunction proxy(vm,target,key){\r\n  Object.defineProperty(vm,key,{\r\n    get(){\r\n      return vm[target][key]\r\n    },\r\n\r\n    set(value){\r\n      vm[target][key] = value;\r\n    }\r\n  })\r\n}","import { compileToFunction } from \"./compiler/index\";\r\nimport { mountComponent } from \"./lifecycle\";\r\nimport { initState } from \"./state\";\r\n\r\nexport function initMinx(Vue){\r\n  // 初始化\r\n  Vue.prototype._init = function(options){\r\n    const vm = this;\r\n    \r\n    vm.$options = options;// 将选项挂载到实例上  data,create,methods...\r\n\r\n    // 状态初始化\r\n    initState(vm)\r\n\r\n    // 模板初始化\r\n    if(options.el){\r\n      vm.$mount(options.el)\r\n    }\r\n  }\r\n\r\n  Vue.prototype.$mount = function(el){\r\n    const vm = this;\r\n    let ops = vm.$options;\r\n    el = document.querySelector(el);\r\n\r\n    // 先看有没有render函数\r\n    if(!ops.render){\r\n      let template;\r\n\r\n      if(!ops.template && el){\r\n        template = el.outerHTML;\r\n      }else{\r\n        template = ops.template;\r\n      }\r\n      \r\n      // 去生成render函数\r\n      if(template){\r\n        // 对模板进行编译\r\n        const render = compileToFunction(template)\r\n        ops.render = render;\r\n      }\r\n    }\r\n\r\n    // 组件挂载\r\n    mountComponent(vm,el)\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n ","import { initMinx } from \"./init\";\r\nimport { initLifeCycle } from \"./lifecycle\";\r\n\r\n// 不使用class 去创建类 是为了避免所有的方法耦合在一起\r\nfunction Vue(options){\r\n  // 初始化\r\n  this._init(options)\r\n}\r\n\r\n// 扩展了init 方法\r\ninitMinx(Vue);\r\n// \r\ninitLifeCycle(Vue)\r\n\r\nexport default Vue;"],"names":["ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","parseHTML","html","TEXT_TYPE","ELEMENT_TYPE","stack","currentParent","root","createASTElement","tag","attrs","children","type","parent","start","node","push","chars","text","trim","end","pop","length","advance","n","substring","parseStartTag","match","tagName","attr","name","value","textEnd","indexOf","startTagMatch","endTagMatch","defaultTagRE","genProps","str","i","obj","split","map","item","key","JSON","stringify","slice","genChildren","child","gen","join","codegen","test","tokens","lastIndex","exec","index","ast","code","compileToFunction","template","console","log","render","Function","id","Dep","subs","target","addDep","watcher","forEach","update","Watcher","vm","fn","boolean","renderWatcher","getter","deps","depId","Set","get","dep","has","add","addSub","createElementVNode","data","vnode","createTextVNode","undefined","createElm","el","document","createElement","patchProps","appendChild","createTextNode","props","styleName","style","setAttribute","patch","oldVNode","isRealElement","nodeType","elm","parentElm","parentNode","newElm","insertBefore","nextSibling","removeChild","initLifeCycle","Vue","prototype","_update","$el","_render","$options","call","_c","arguments","_v","_s","mountComponent","updateComponents","oldArrayProto","Array","newArrayProto","Object","create","methods","method","args","result","inserted","ob","__ob__","observeArray","Observer","defineProperty","enumerable","isArray","__proto__","walk","keys","defineReactive","observe","depend","set","newVal","notify","initState","opts","initData","_data","proxy","initMinx","_init","options","$mount","ops","querySelector","outerHTML"],"mappings":"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"}